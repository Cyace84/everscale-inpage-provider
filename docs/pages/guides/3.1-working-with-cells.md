# Working with cells

Cells are the basic storage elements in the blockchain, used to represent and manipulate data in contracts. In this guide, we will explore the basic methods for working with cells provided by `everscale-inpage-provider`.

Here is the ABI definition we'll use in our examples:

```typescript
const ABI = [
  { name: 'name', type: 'string' },
  { name: 'age', type: 'uint32' },
  { name: 'city', type: 'string' },
] as const;
```

## Packing data into a cell

To pack data into a TVM cell, use the `packIntoCell` method. It creates a `base64` encoded `BOC` (Bag of Cells) from the provided `data`, `structure`, and ABI version.

```typescript
import { ProviderRpcClient } from 'everscale-inpage-provider';

const provider = new ProviderRpcClient();

// Define the data to pack.
const dataToPack = {
  name: 'Alice',
  age: 30,
  city: 'New York',
};

// Function to pack data into BOC using the provider.
async function packData(dataToPack, ABI): Promise<{ boc: string; hash: string }> {
  // Make sure the provider is initialized.
  await provider.ensureInitialized();

  // Pack the data into BOC.
  const { boc, hash } = await provider.packIntoCell({
    structure: ABI,
    data: dataToPack,
  });

  return { boc, hash };
}

(async () => {
  // Request permissions from the user to execute API methods using the provider.
  await provider.requestPermissions({ permissions: ['basic'] });

  const { boc, hash } = await packData(dataToPack, ABI);

  console.log('Packed data:', boc);
  console.log('Packed data hash:', hash);
})();
```

<PackCellComponent />

## Unpacking data from a cell

To unpack data from a TVM cell, use the `unpackFromCell` method. It decodes the `base64-encoded` string into an object according to the provided ABI.

```typescript
import { ProviderRpcClient } from 'everscale-inpage-provider';

const provider = new ProviderRpcClient();

// Define the data to unpack.
const bocToUnpack = 'te6ccgEBAwEAGQACCAAAAB4CAQAQTmV3IFlvcmsACkFsaWNl';

// Function to unpack data from BOC using the provider.
async function unpackData(bocToUnpack: string, ABI) {
  // Make sure the provider is initialized.
  await provider.ensureInitialized();

  // Unpack the data from BOC.
  const unpacked = await provider.unpackFromCell({
    structure: ABI,
    boc: bocToUnpack,
    allowPartial: true,
  });

  return unpacked.data;
}

(async () => {
  // Request permissions from the user to execute API methods using the provider.
  await provider.requestPermissions({ permissions: ['basic'] });

  const unpackedData = await unpackData(bocToUnpack, ABI);

  console.log('Unpacked data:', unpacked.data);
})();
```

<UnpackCellComponent />

## Computing Hash of Base64 Encoded BOC

We will explore how to compute the hash of a base64 encoded BOC (Bag of Cells) using the getBocHash method provided by the `everscale-inpage-provider`.

### Get BOC Hash

The `getBocHash` method computes the hash of a `base64` encoded BOC and returns the hash as a hexadecimal string. This method requires basic permissions.

Here's an example of how to use the getBocHash method:

```typescript
import { ProviderRpcClient } from 'everscale-inpage-provider';

const provider = new ProviderRpcClient();

// Define the base64 encoded BOC.
const boc = 'te6ccgEBAwEAGQACCAAAAB4CAQAQTmV3IFlvcmsACkFsaWNl';

// Function to compute the hash of a base64 encoded BOC using the provider.
async function getBocHash(boc: string): Promise<string> {
  // Make sure the provider is initialized.
  await provider.ensureInitialized();

  // Compute the hash of the base64 encoded BOC.
  const hash = await provider.getBocHash(boc);

  return hash;
}

(async () => {
  // Request permissions from the user to execute API methods using the provider.
  await provider.requestPermissions({ permissions: ['basic'] });

  const hash = await getBocHash(boc);

  console.log('BOC hash:', hash);
})();
```

<GetBocHashComponent />
